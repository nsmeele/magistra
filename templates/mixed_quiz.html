{% extends "base.html" %}

{% block title %}Gemengde Quiz - Magistra{% endblock %}

{% block content %}
<h2>Gemengde Quiz</h2>
<p class="subtitle">Selecteer meerdere lijsten om samen te oefenen</p>

{% if language_pairs %}
    <form method="POST" action="{{ url_for('main.mixed_quiz_start') }}">
        {% for lang_pair, lists in language_pairs.items() %}
            <div class="language-group">
                <h3 class="language-header">{{ lang_pair }}</h3>
                <div class="lists-selection">
                    {% for list in lists %}
                        <div class="list-checkbox">
                            <input type="checkbox"
                                   name="list_ids"
                                   value="{{ list.id }}"
                                   id="list_{{ list.id }}"
                                   {% if lists|length == 1 %}checked{% endif %}>
                            <label for="list_{{ list.id }}">
                                <strong>{{ list.name }}</strong>
                                <span class="word-count">({{ list.entries|length }} item{% if list.entries|length != 1 %}s{% endif %})</span>
                            </label>
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}

        <div class="language-group">
            <h3 class="language-header">Quiz Richting</h3>
            <div class="form-group">
                <label for="direction">Kies de richting:</label>
                <select name="direction" id="direction" class="form-control">
                    <option value="random" selected>Willekeurig (beide richtingen)</option>
                    <option value="forward">Brontaal → Doeltaal</option>
                    <option value="reverse">Doeltaal → Brontaal</option>
                </select>
                <p class="help-text">
                    <strong>Willekeurig:</strong> Bij elke vraag wordt willekeurig gekozen uit beide richtingen<br>
                    <strong>Brontaal → Doeltaal:</strong> Je krijgt vragen in de brontaal en moet vertalen naar de doeltaal<br>
                    <strong>Doeltaal → Brontaal:</strong> Je krijgt vragen in de doeltaal en moet vertalen naar de brontaal
                </p>
            </div>
        </div>

        <div class="form-actions">
            <a href="{{ url_for('main.index') }}" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Terug</a>
            <button type="submit" class="btn btn-primary"><i class="fas fa-play"></i> Start Quiz</button>
        </div>
    </form>
{% else %}
    <p class="empty-state">
        Je hebt nog geen woordenlijsten.
        <a href="{{ url_for('main.new_list') }}">Maak je eerste lijst aan!</a>
    </p>
{% endif %}
{% endblock %}